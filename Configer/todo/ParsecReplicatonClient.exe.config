<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="extentions" type="MDO.Parsec.Configuration.Data.ExtentionConfigurationSection, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="remoteDataSources" type="MDO.Parsec.Configuration.Data.DataSourceConfigurationSection, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="authRepeaterConfig" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="replicaSubscriptionCheck" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="replicaPublisherReconnect" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="replicationDataSourceRetry" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="replicationTimeout" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="replicationChunkConfiguration" type="MDO.Parsec.Configuration.TableChunkConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="transactionImporterConfiguration" type="MDO.Parsec.Configuration.SizeIntervalConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="remoteDataSubscriptionCheck" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="remoteDataSubscriber" type="MDO.Parsec.Server.Client.Configuration.RemoteDataSubscriberConfiguration, MDO.Parsec.Client, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
    <section name="remoteDataStatusCheck" type="MDO.Parsec.Configuration.RepeaterConfiguration, MDO.Parsec.Configuration, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3" />
  </configSections>
  <system.diagnostics>
    <switches>
      <!--
        In order to receive trace messages change the value to the appropriate level:
          "ActivityTracing" - Allows the Stop, Start, Suspend, Transfer, and Resume events through;
          "All" - Allows all events through;
          "Critical" - Allows only Critical events through; 
          "Error" - Allows Critical and Error events through;
          "Information" - Allows Critical, Error, Warning, and Information events through;
          "Off" - Does not allow any events through;
          "Verbose" - Allows Critical, Error, Warning, Information, and Verbose events through;
          "Warning" - Allows Critical, Error, and Warning events through;
      -->
      <add name="Common" value="ActivityTracing, Error" />
      <add name="ClientDataSourceSwitch" value="ActivityTracing, Error" />
    </switches>
    <sources>
      <source name="ParsecReplicatonClient.exe" switchName="Common" switchType="System.Diagnostics.SourceSwitch">
        <listeners>
          <add name="General"/>
        </listeners>
      </source>
      <source name="ClientDataSource" switchName="ClientDataSourceSwitch" switchType="System.Diagnostics.SourceSwitch">
        <listeners>
          <add name="General"/>
        </listeners>
      </source>
    </sources>
    <sharedListeners>
      <add name="General" initializeData="ParsecReplicatonClient.exe.log" traceOutputOptions="DateTime" type="System.Diagnostics.TextWriterTraceListener, System, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
    </sharedListeners>
    <trace autoflush="true" indentsize="2" useGlobalLock="false"/>
  </system.diagnostics>
  <system.runtime.remoting>
    <channelSinkProviders>
      <clientProviders>
        <provider	id="ClientContextClientProvider" name="ClientContextClientProvider" type="MDO.Parsec.Remoting.ContextClientChannelSinkProvider, MDO.Parsec, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3"/>
      </clientProviders>
    </channelSinkProviders>
    <channels>
      <channel id="subscriberChannel" name="subscriberChannel" type="System.Runtime.Remoting.Channels.Tcp.TcpChannel, System.Runtime.Remoting, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </channels>
    <application name="ReplicationSubscriber">
      <service>
        <wellknown displayname="Replication Subscriber" mode="SingleCall" type="MDO.Parsec.Replicaton.ReplicationSubscriber, ParsecReplicatonClient, Version=1.0.0.0, Culture=neutral, PublicKeyToken=3dd4327ea1b0f0e3"  objectUri="replicationSubscriber.rem" />
      </service>
      <channels>
        <channel useIpAddress="true" ref="subscriberChannel" port="10010">
          <serverProviders>
            <formatter ref="binary" typeFilterLevel="Full" />
          </serverProviders>
          <clientProviders>
            <formatter ref="binary"/>
            <provider ref="ClientContextClientProvider"/>
          </clientProviders>
        </channel>
        <channel ref="tcp">
          <serverProviders>
            <formatter ref="binary" typeFilterLevel="Full" />
          </serverProviders>
          <clientProviders>
            <formatter ref="binary" />
            <provider ref="ClientContextClientProvider"/>
          </clientProviders>
        </channel>
      </channels>
    </application>
  </system.runtime.remoting>
  <remoteDataSources>
    <dataSponsor renewalTime="5" disconnectPollTime="30" />
    <stateProcessors>
      <processor type="Network" processing="Manual" attemptsCount="10" attemptsSleepTime="10" description="Обработчик сетевого состояния" />
    </stateProcessors>
  </remoteDataSources>
  <extentions>
    <service name="replica_ui" enable="true"  cfgfile="replication_client.config" />
    <service name="replica_hal" enable="true" cfgfile="replication_client.config" />
    <service name="task" enable="true" cfgfile="replication_client.config" />
    <service name="transaction" enable="true" cfgfile="replication_client.config" />
  </extentions>
  <authRepeaterConfig interval="10s"/>
  <replicaSubscriptionCheck interval="3m"/>
  <replicaPublisherReconnect interval="20s"/>
  <replicationDataSourceRetry tryCount="1" interval="20s"/>
  <replicationTimeout interval="5s"/>
  <replicationChunkConfiguration defaultChunkSize="-1">
    <add table="CFG_USER" chunkSize="10000"/>
  </replicationChunkConfiguration>
  <transactionImporterConfiguration size="1024" interval="10s"/>
  <remoteDataSubscriptionCheck interval="3m"/>
  <remoteDataStatusCheck interval="20s"/>
  <remoteDataSubscriber channelType="tcp" portMaxIncrement="100" ensureSecurity="false" serverFormatter="binary" clientFormatter="binary">
    <channelProperties>
      <!--
      <add key="name" value="string"/>
      <add key="bindTo" value="System.Net.IPAddress"/>
      <add key="port" value="Int32"/>
      <add key="priority" value="Int32"/>
      <add key="secure" value="bool"/>
      <add key="impersonate" value="bool"/>
      <add key="protectionLevel" value="System.Net.Security.ProtectionLevel"/>
      <add key="machineName" value="string"/>
      <add key="rejectRemoteRequests" value="bool"/>
      <add key="suppressChannelData" value=bool"/>
      <add key="useIpAddress" value="bool"/>
      <add key="exclusiveAddressUse" value="bool"/>
      <add key="authorizationModule" value="string(Assembly qualified type string)"/>
      -->
    </channelProperties>
    <serverProviderProperties>
      <!--
      <add key="typeFilterLevel" value="System.Runtime.Serialization.Formatters.TypeFilterLevel (default - Low)"/>
      <add key="includeVersions" value="bool (default - true)"/>
      <add key="strictBinding" value="bool"/>
      -->
      <add key="typeFilterLevel" value="Full"/>
    </serverProviderProperties>
    <clientProviderProperties>
      <!--
      <add key="includeVersions" value="bool (default - true)"/>
      <add key="strictBinding" value="bool"/>
      -->
    </clientProviderProperties>
  </remoteDataSubscriber>
  <appSettings>
    <add key="DeployThreadLocale" value="ru-RU"/>
  </appSettings>
</configuration>